# list of whitelisted IPs from RapidApi here: https://docs.rapidapi.com/docs/firewall-ip-security
# helpers.py
from flask import Flask,request
import re

# routes.py
app = Flask(__name__)
@app.route('/istempemail/', methods=['get'])
def hello_world():
    ip = request.environ.get('HTTP_X_REAL_IP', request.remote_addr)
    if request.method == 'GET':
        if ip in whitelistedIpAddresses:
                email = request.args.get('email')
                if email is None:
                    return "No email address passed with call"
                else:
                    domain = email.split("@")[-1].lower().split(".")[0]                    
                    if domain in tempmaillist:
                        return "true"
                    return "false"
        else:
            return 'invalid authentification IP address'
    return 'only GET allowed'
#source: https://gist.github.com/michenriksen/8710649
tempmaillist = [
    'byom',
    'mailinator',
    'guerilla',
    'tempemail',
    'temp-mail',
    'sika3',
    'tapi',
    'kagi',
    'nagi',
    'heisei',
    'honeys',
    'mbox',
    'kbox',
    'ponp',
    'risu',
    'fuwa',
    'usako',
    'eay',
    'via',
    'ichigo',
    'choco',
    'cream',
    'merry',
    'neko2',
    'fuwamofu',
    'ruru',
    'macr2',
    'f5',
    'ahk',
    'svk',
    'moimoi',
    'kksm',
    'tensi',
    'pwrby',
    'zetmail',
    'clrmail',
    'getairmail',
    '6paq',
    'boximail',
    'pwrby',
    'zetmail',
    'clrmail',
    'boximail',
    'umadbro',
    'holes',
    'kwcp',
    'mailed',
    'maildx',
    'xww',
    'kobej',
    'neokidesu',
    '0eml',
    'spybox',
    'renraku',
    'incognitomail',
    'sharklasers',
    'sute',
    'svxr',
    '1dl',
    'tekumeru',
    'gomen-da',
    'agedmail',
    'ama-trade',
    'amilegit',
    'amiri',
    'amiriindustries',
    'anonmails',
    'anonymbox',
    'antichef',
    'antichef',
    'antireg',
    'antispam',
    'antispammail',
    'armyspy',
    'artman-conception',
    'azmeil',
    'baxomale',
    'beefmilk',
    'bigstring',
    'binkmail',
    'bio-muesli',
    'bobmail',
    'bodhi',
    'bofthew',
    'bootybay',
    'boun',
    'bouncr',
    'breakthru',
    'brefmail',
    'bsnow',
    'bspamfree',
    'bugmenot',
    'bund',
    'burstmail',
    'buymoreplays',
    'byom',
    'c2',
    'card',
    'casualdx',
    'cek',
    'centermail',
    'centermail',
    'chammy',
    'childsavetrust',
    'chogmail',
    'choicemail1',
    'clixser',
    'cmail',
    'cmail',
    'coldemail',
    'cool',
    'courriel',
    'courrieltemporaire',
    'crapmail',
    'cust',
    'cuvox',
    'd3p',
    'dacoolest',
    'dandikmail',
    'dayrep',
    'dcemail',
    'deadaddress',
    'deadspam',
    'delikkt',
    'despam',
    'despammed',
    'devnullmail',
    'dfgh',
    'digitalsanctuary',
    'dingbone',
    'disposableaddress',
    'disposableemailaddresses',
    'disposableinbox',
    'dispose',
    'dispostable',
    'dodgeit',
    'dodgit',
    'donemail',
    'dontreg',
    'dontsendmespam',
    'drdrb',
    'dump-email',
    'dumpandjunk',
    'dumpyemail',
    'e-mail',
    'e-mail',
    'e4ward',
    'easytrashmail',
    'einmalmail',
    'einrot',
    'eintagsmail',
    'emailgo',
    'emailias',
    'emaillime',
    'emailsensei',
    'emailtemporanea',
    'emailtemporanea',
    'emailtemporar',
    'emailtemporario',
    'emailthe',
    'emailtmp',
    'emailwarden',
    'emailx',
    'emailxfer',
    'emeil',
    'emeil',
    'emz',
    'ero-tube',
    'evopo',
    'explodemail',
    'express',
    'eyepaste',
    'fakeinbox',
    'fakeinformation',
    'fansworldwide',
    'fantasymail',
    'fightallspam',
    'filzmail',
    'fivemail',
    'fleckens',
    'frapmail',
    'friendlymail',
    'fuckingduh',
    'fudgerub',
    'fyii',
    'garliclife',
    'gehensiemirnichtaufdensack',
    'get2mail',
    'getairmail',
    'getmails',
    'getonemail',
    'giantmail',
    'girlsundertheinfluence',
    'gishpuppy',
    'gmial',
    'goemailgo',
    'gotmail',
    'gotmail',
    'gotti',
    'great-host',
    'greensloth',
    'grr',
    'gsrv',
    'guerillamail',
    'guerillamail',
    'guerrillamail',
    'guerrillamail',
    'guerrillamail',
    'guerrillamail',
    'guerrillamail',
    'guerrillamail',
    'guerrillamailblock',
    'gustr',
    'harakirimail',
    'hat-geld',
    'hatespam',
    'herp',
    'hidemail',
    'hidzz',
    'hmamail',
    'hopemail',
    'ieh-mail',
    'ikbenspamvrij',
    'imails',
    'inbax',
    'inbox',
    'inboxalias',
    'inboxclean',
    'inboxclean',
    'infocom',
    'instant-mail',
    'ip6',
    'irish2me',
    'iwi',
    'jetable',
    'jetable',
    'jetable',
    'jetable',
    'jnxjn',
    'jourrapide',
    'jsrsolutions',
    'kasmail',
    'kaspop',
    'killmail',
    'killmail',
    'klassmaster',
    'klzlk',
    'koszmail',
    'kurzepost',
    'lawlita',
    'letthemeatspam',
    'lhsdv',
    'lifebyfood',
    'link2mail',
    'litedrop',
    'lol',
    'lolfreak',
    'lookugly',
    'lortemail',
    'lr78',
    'lroid',
    'lukop',
    'm21',
    'mail-filter',
    'mail-temporaire',
    'mail',
    'mail',
    'mail',
    'mail1a',
    'mail21',
    'mail2rss',
    'mail333',
    'mailbidon',
    'mailbiz',
    'mailblocks',
    'mailbucket',
    'mailcat',
    'mailcatch',
    'mailde',
    'mailde',
    'maildrop',
    'maileimer',
    'mailexpire',
    'mailfa',
    'mailforspam',
    'mailfreeonline',
    'mailguard',
    'mailin8r',
    'mailinater',
    'mailinator',
    'mailinator',
    'mailinator',
    'mailinator2',
    'mailincubator',
    'mailismagic',
    'mailme',
    'mailme24',
    'mailmetrash',
    'mailmoat',
    'mailms',
    'mailnesia',
    'mailnull',
    'mailorg',
    'mailpick',
    'mailrock',
    'mailscrap',
    'mailshell',
    'mailsiphon',
    'mailtemp',
    'mailtome',
    'mailtothis',
    'mailtrash',
    'mailtv',
    'mailtv',
    'mailzilla',
    'makemetheking',
    'manybrain',
    'mbx',
    'mega',
    'meinspamschutz',
    'meltmail',
    'messagebeamer',
    'mezimages',
    'ministry-of-silly-walks',
    'mintemail',
    'misterpinball',
    'moncourrier',
    'monemail',
    'monmail',
    'monumentmail',
    'mt2009',
    'mt2014',
    'mycard',
    'mycleaninbox',
    'mymail-in',
    'mypacks',
    'mypartyclip',
    'myphantomemail',
    'mysamp',
    'mytempemail',
    'mytempmail',
    'mytrashmail',
    'nabuma',
    'neomailbox',
    'nepwk',
    'nervmich',
    'nervtmich',
    'netmails',
    'netmails',
    'neverbox',
    'nice-4u',
    'nincsmail',
    'nnh',
    'no-spam',
    'noblepioneer',
    'nomail',
    'nomail',
    'nomail2me',
    'nomorespamemails',
    'nospam',
    'nospam4',
    'nospamfor',
    'nospammail',
    'notmailinator',
    'nowhere',
    'nowmymail',
    'nurfuerspam',
    'nus',
    'objectmail',
    'obobbo',
    'odnorazovoe',
    'oneoffemail',
    'onewaymail',
    'onlatedotcom',
    'online',
    'opayq',
    'ordinaryamerican',
    'otherinbox',
    'ovpn',
    'owlpic',
    'pancakemail',
    'pcusers',
    'pjjkp',
    'plexolan',
    'poczta',
    'politikerclub',
    'poofy',
    'pookmail',
    'privacy',
    'privatdemail',
    'proxymail',
    'prtnx',
    'putthisinyourspamdatabase',
    'putthisinyourspamdatabase',
    'qq',
    'quickinbox',
    'rcpt',
    'reallymymail',
    'realtyalerts',
    'recode',
    'recursor',
    'reliable-mail',
    'rhyta',
    'rmqkr',
    'royal',
    'rtrtr',
    's0ny',
    'safe-mail',
    'safersignup',
    'safetymail',
    'safetypost',
    'saynotospams',
    'schafmail',
    'schrott-email',
    'secretemail',
    'secure-mail',
    'senseless-entertainment',
    'services391',
    'sharklasers',
    'shieldemail',
    'shiftmail',
    'shitmail',
    'shitware',
    'shmeriously',
    'shortmail',
    'sibmail',
    'sinnlos-mail',
    'slapsfromlastnight',
    'slaskpost',
    'smashmail',
    'smellfear',
    'snakemail',
    'sneakemail',
    'sneakmail',
    'snkmail',
    'sofimail',
    'solvemail',
    'sogetthis',
    'soodonims',
    'spam4',
    'spamail',
    'spamarrest',
    'spambob',
    'spambog',
    'spambox',
    'spamcannon',
    'spamcannon',
    'spamcon',
    'spamcorptastic',
    'spamcowboy',
    'spamcowboy',
    'spamcowboy',
    'spamday',
    'spamex',
    'spamfree',
    'spamfree24',
    'spamfree24',
    'spamfree24',
    'spamgoes',
    'spamgourmet',
    'spamgourmet',
    'spamgourmet',
    'spamherelots',
    'spamherelots',
    'spamhereplease',
    'spamhereplease',
    'spamhole',
    'spamify',
    'spaml',
    'spammotel',
    'spamobox',
    'spamslicer',
    'spamspot',
    'spamthis',
    'spamtroll',
    'speed',
    'spoofmail',
    'stuffmail',
    'super-auswahl',
    'supergreatmail',
    'supermailer',
    'superrito',
    'superstachel',
    'suremail',
    'talkinator',
    'teewars',
    'teleworm',
    'teleworm',
    'temp-mail',
    'temp-mail',
    'tempe-mail',
    'tempemail',
    'tempemail',
    'tempemail',
    'tempemail',
    'tempinbox',
    'tempinbox',
    'tempmail',
    'tempmaildemo',
    'tempmailer',
    'tempmailer',
    'tempomail',
    'temporaryemail',
    'temporaryforwarding',
    'temporaryinbox',
    'temporarymailaddress',
    'tempthe',
    'thankyou2010',
    'thc',
    'thelimestones',
    'thisisnotmyrealemail',
    'thismail',
    'throwawayemailaddress',
    'tilien',
    'tittbit',
    'tizi',
    'tmailinator',
    'toomail',
    'topranklist',
    'tradermail',
    'trash-mail',
    'trash-mail',
    'trash-mail',
    'trash2009',
    'trashdevil',
    'trashemail',
    'trashmail',
    'trashmail',
    'trashmail',
    'trashmail',
    'trashmail',
    'trashmail',
    'trashymail',
    'trialmail',
    'trillianpro',
    'twinmail',
    'tyldd',
    'uggsrock',
    'umail',
    'uroid',
    'us',
    'venompen',
    'veryrealemail',
    'viditag',
    'viralplays',
    'vpn',
    'vsimcard',
    'vubby',
    'wasteland',
    'webemail',
    'weg-werf-email',
    'wegwerf-emails',
    'wegwerfadresse',
    'wegwerfemail',
    'wegwerfemail',
    'wegwerfmail',
    'wegwerfmail',
    'wegwerfmail',
    'wegwerfmail',
    'wh4f',
    'whyspam',
    'willhackforfood',
    'willselfdestruct',
    'winemaven',
    'wronghead',
    'www',
    'www',
    'wwwnew',
    'x',
    'xagloo',
    'xemaps',
    'xents',
    'xmaily',
    'xoxy',
    'yep',
    'yogamaven',
    'yopmail',
    'yopmail',
    'yopmail',
    'yourdomain',
    'yuurok',
    'z1p',
    'za',
    'zehnminuten',
    'zehnminutenmail',
    'zippymail',
    'zoemail',
    'zomg'
]

whitelistedIpAddresses = [
    '107.23.255.128',
    '107.23.255.129',
    '107.23.255.131',
    '107.23.255.132',
    '107.23.255.133',
    '107.23.255.134',
    '107.23.255.135',
    '107.23.255.137',
    '107.23.255.138',
    '107.23.255.139',
    '107.23.255.140',
    '107.23.255.141',
    '107.23.255.142',
    '107.23.255.143',
    '107.23.255.144',
    '107.23.255.145',
    '107.23.255.146',
    '107.23.255.147',
    '107.23.255.148',
    '107.23.255.149',
    '107.23.255.150',
    '107.23.255.151',
    '107.23.255.152',
    '107.23.255.153',
    '107.23.255.154',
    '107.23.255.155',
    '107.23.255.156',
    '107.23.255.157',
    '107.23.255.158',
    '107.23.255.159',
    '35.162.152.183',
    '52.38.28.241',
    '52.35.67.149',
    '54.149.215.237',
    '13.127.146.34',
    '13.127.207.241',
    '13.232.235.243',
    '13.233.81.143',
    '13.112.233.15',
    '54.250.57.56',
    '18.182.156.77',
    '52.194.200.157',
    '3.120.160.95',
    '18.184.214.33',
    '18.197.117.10',
    '3.121.144.151',
    '13.239.156.114',
    '13.238.1.253',
    '13.54.58.4',
    '54.153.234.158',
    '18.228.167.221',
    '18.228.209.157',
    '18.228.209.53',
    '18.228.69.72',
    '13.228.169.5',
    '3.0.35.31',
    '3.1.111.112',
    '52.220.50.179',
    '34.250.225.89',
    '52.30.208.221',
    '63.34.177.151',
    '63.35.2.11'
]
